<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>AI Studio</title>
    <style>
        body { background: #0f0f0f; color: white; font-family: sans-serif; text-align: center; padding: 50px; }
        .box { background: #1a1a1a; padding: 30px; border-radius: 15px; border: 1px solid #00ffcc; }
        input { padding: 10px; width: 80%; border-radius: 5px; border: none; }
        button { padding: 10px 20px; background: #00ffcc; border: none; cursor: pointer; font-weight: bold; margin-top: 10px; }
        #lyrics { margin-top: 20px; white-space: pre-wrap; color: #ccc; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Ù…Ø¤Ù„Ù Ø§Ù„Ø£ØºØ§Ù†ÙŠ Ø§Ù„Ø°ÙƒÙŠ ğŸµ</h2>
        <input type="text" id="topic" placeholder="Ø¹Ù† Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªØºÙ†ÙŠØŸ">
        <br>
        <button onclick="makeSong()">Ø§ØµÙ†Ø¹ Ø§Ù„Ø£ØºÙ†ÙŠØ© Ø§Ù„Ø¢Ù†</button>
        <div id="lyrics"></div>
        <audio id="audio" controls style="display:none; margin: 20px auto;"></audio>
    </div>

    <script>
        async function makeSong() {
            const topic = document.getElementById('topic').value;
            const res = await fetch('/generate', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({topic: topic})
            });
            const data = await res.json();
            document.getElementById('lyrics').innerText = data.lyrics;
            const audio = document.getElementById('audio');
            audio.src = "/static/vocals.mp3?t=" + new Date().getTime();
            audio.style.display = "block";
        }
    </script>
</body>
</html>
